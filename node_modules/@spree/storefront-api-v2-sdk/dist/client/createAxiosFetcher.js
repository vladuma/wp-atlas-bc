!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SpreeSDK=t():(e.SpreeSDK=e.SpreeSDK||{},e.SpreeSDK.createAxiosFetcher=t())}(self,(function(){return(()=>{"use strict";var e={306:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(r(527));class n extends s.default{constructor(e,t,r,o){super(o),Object.setPrototypeOf(this,n.prototype),this.name="FetchError",this.response=e,this.request=t,this.data=r}}t.default=n},527:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super(e),Object.setPrototypeOf(this,r.prototype),this.name="SpreeSDKError"}}t.default=r},596:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,n){function a(e){try{u(o.next(e))}catch(e){n(e)}}function i(e){try{u(o.throw(e))}catch(e){n(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,i)}u((o=o.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(r(306)),a=r(327);t.default=e=>{let t;t=globalThis.axios?globalThis.axios:r(167).default;const s=t.create({baseURL:e.host,headers:{"Content-Type":"application/json"},paramsSerializer:e=>(0,a.objectToQuerystring)(e)});return{fetch:e=>o(void 0,void 0,void 0,(function*(){try{const{url:t,params:r,method:o,headers:n,responseParsing:a}=e;let i,u;switch(o.toUpperCase()){case"PUT":case"POST":case"DELETE":case"PATCH":i={data:r};break;default:i={params:r}}const c=!0;switch(a){case"json":case"text":u=a;break;case"stream":u=c?"blob":"stream";break;default:u=void 0}const l=yield s(Object.assign({url:t,method:o.toUpperCase(),headers:n,responseType:u},i));return"stream"===a&&c?{data:l.data.stream()}:{data:l.data}}catch(e){if(t.isAxiosError(e)){const{response:t}=e;if(!t)throw new n.default(null,e.request,null,e.message);const r=Object.assign({},t);throw Object.defineProperties(r,{config:{enumerable:!1},data:{enumerable:!1},headers:{enumerable:!1},request:{enumerable:!1}}),new n.default(r,e.request,r.data,e.message)}throw new n.default(null,null,null,e.message)}}))}}},327:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.objectToQuerystring=void 0;const r=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),o=(e,t)=>{if(0===e.length)return e;let o=e;if("symbol"==typeof e?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===t)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));let s="";for(let e=0;e<o.length;++e){let t=o.charCodeAt(e);45===t||46===t||95===t||126===t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122?s+=o.charAt(e):t<128?s+=r[t]:t<2048?s+=r[192|t>>6]+r[128|63&t]:t<55296||t>=57344?s+=r[224|t>>12]+r[128|t>>6&63]+r[128|63&t]:(e+=1,t=65536+((1023&t)<<10|1023&o.charCodeAt(e)),s+=r[240|t>>18]+r[128|t>>12&63]+r[128|t>>6&63]+r[128|63&t])}return s},s=Array.isArray,n=Array.prototype.push,a=(e,t)=>{n.apply(e,s(t)?t:[t])},i=e=>String(e),u=(e,t)=>e+"[]",c="utf-8",l=(e,t)=>{var r,n;if(e instanceof Date&&(e=e.toISOString()),null===e&&(e=""),"string"==typeof(n=e)||"number"==typeof n||"boolean"==typeof n||"symbol"==typeof n||"bigint"==typeof n||(r=e)&&"object"==typeof r&&r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r)){const r=o(t,c);return[i(r)+"="+i(o(e,c))]}const f=[];if(void 0===e)return f;const p=Object.keys(e);for(let r=0;r<p.length;++r){const o=p[r],n=e[o],i=s(e)?u(t):t+"["+o+"]";a(f,l(n,i))}return f};t.objectToQuerystring=e=>{const t=[],r=Object.keys(e);for(let o=0;o<r.length;++o){const s=r[o];a(t,l(e[s],s))}return t.join("&")}},167:e=>{e.exports=require("axios")}},t={};return function r(o){var s=t[o];if(void 0!==s)return s.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,r),n.exports}(596)})()}));
//# sourceMappingURL=createAxiosFetcher.js.map