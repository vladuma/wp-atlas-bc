!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SpreeSDK=t():e.SpreeSDK=t()}(global,(function(){return(()=>{"use strict";var e={390:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=s(919);t.default=class{constructor(e){const t={host:globalThis.process&&globalThis.process.env.SPREE_HOST||"http://localhost:3000/",...e},s={host:t.host};this.fetcher=t.createFetcher(s),this.addEndpoints()}addEndpoints(){this.account=this.makeAccount(),this.authentication=this.makeAuthentication(),this.cart=this.makeCart(),this.checkout=this.makeCheckout(),this.countries=this.makeCountries(),this.order=this.makeOrder(),this.pages=this.makePages(),this.products=this.makeProducts(),this.taxons=this.makeTaxons(),this.digitalAssets=this.makeDigitalAssets(),this.menus=this.makeMenus(),this.wishlists=this.makeWishlists()}makeAccount(){return new r.Account({fetcher:this.fetcher})}makeAuthentication(){return new r.Authentication({fetcher:this.fetcher})}makeCart(){return new r.Cart({fetcher:this.fetcher})}makeCheckout(){return new r.Checkout({fetcher:this.fetcher})}makeCountries(){return new r.Countries({fetcher:this.fetcher})}makeOrder(){return new r.Order({fetcher:this.fetcher})}makePages(){return new r.Pages({fetcher:this.fetcher})}makeProducts(){return new r.Products({fetcher:this.fetcher})}makeTaxons(){return new r.Taxons({fetcher:this.fetcher})}makeDigitalAssets(){return new r.DigitalAssets({fetcher:this.fetcher})}makeMenus(){return new r.Menus({fetcher:this.fetcher})}makeWishlists(){return new r.Wishlists({fetcher:this.fetcher})}}},759:function(e,t,s){var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return o(t,e),t},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const u=s(844),i=n(s(306)),c=a(s(614));t.default=class{constructor({fetcher:e}){this.fetcher=e}async spreeResponse(e,t,s={},r={},o="automatic"){try{const a={url:t,params:r,method:e,headers:this.spreeOrderHeaders(s),responseParsing:o},n=await this.fetcher.fetch(a);return c.makeSuccess(n.data)}catch(e){return c.makeFail(this.processError(e))}}classifySpreeError(e){const{error:t,errors:s}=e.data;return"string"==typeof t?"object"==typeof s?"full":"basic":"limited"}processError(e){return e instanceof i.default?e.response?this.processSpreeError(e):e.request?new u.NoResponseError:new u.MisconfigurationError(e.message):new u.SpreeSDKError(e.message)}processSpreeError(e){const{error:t,errors:s}=e.data,r=this.classifySpreeError(e);return"full"===r?new u.ExpandedSpreeError(e.response,t,s):"basic"===r?new u.BasicSpreeError(e.response,t):new u.SpreeError(e.response)}spreeOrderHeaders(e){const t={};return e.orderToken&&(t["X-Spree-Order-Token"]=e.orderToken),e.bearerToken&&(t.Authorization=`Bearer ${e.bearerToken}`),t}}},993:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(185)),a=r(s(759)),n=r(s(319));class u extends a.default{async accountInfo(...e){const[t,s={}]=e,{token:r,params:a}=(0,o.default)([t,s],[]);return await this.spreeResponse("get",n.default.accountPath(),r,a)}async creditCardsList(...e){const[t,s={}]=e,{token:r,params:a}=(0,o.default)([t,s],[]);return await this.spreeResponse("get",n.default.accountCreditCardsPath(),r,a)}async defaultCreditCard(...e){const[t,s={}]=e,{token:r,params:a}=(0,o.default)([t,s],[]);return await this.spreeResponse("get",n.default.accountDefaultCreditCardPath(),r,a)}async removeCreditCard(...e){const[t,s,r={}]=e,{id:a,token:u,params:i}=(0,o.default)([{id:s},t,r],["id"]);return await this.spreeResponse("delete",n.default.accountCreditCardRemovePath(a),u,i)}async completedOrdersList(...e){const[t,s={}]=e,{token:r,params:a}=(0,o.default)([t,s],[]);return await this.spreeResponse("get",n.default.accountCompletedOrdersPath(),r,a)}async completedOrder(...e){const[t,s,r={}]=e,{order_number:a,token:u,params:i}=(0,o.default)([{order_number:s},t,r],["order_number"]);return await this.spreeResponse("get",n.default.accountCompletedOrderPath(a),u,i)}async create(...e){const[t={}]=e,{token:s,params:r}=(0,o.default)([t],[]);return await this.spreeResponse("post",n.default.accountPath(),s,r)}async confirm(...e){const[t]=e,{confirmation_token:s,token:r,params:a}=(0,o.default)(["object"==typeof t?t:{confirmation_token:t}],["confirmation_token"]);return await this.spreeResponse("get",n.default.accountConfirmPath(s),r,a)}async forgotPassword(...e){const[t]=e,{token:s,params:r}=(0,o.default)([t],[]);return await this.spreeResponse("post",n.default.forgotPasswordPath(),s,r)}async resetPassword(...e){const[t,s]=e,{reset_password_token:r,token:a,params:u}=(0,o.default)(["object"==typeof t?t:{resetPasswordToken:t},s],["reset_password_token"]);return await this.spreeResponse("patch",n.default.resetPasswordPath(r),a,u)}async update(...e){const[t,s]=e,{token:r,params:a}=(0,o.default)([t,s],[]);return await this.spreeResponse("patch",n.default.accountPath(),r,a)}async addressesList(...e){const[t]=e,{token:s,params:r}=(0,o.default)([t],[]);return await this.spreeResponse("get",n.default.accountAddressesPath(),s,r)}async showAddress(...e){const[t,s,r={}]=e,{id:a,token:u,params:i}=(0,o.default)([{id:s},t,r],["id"]);return await this.spreeResponse("get",n.default.accountAddressPath(a),u,i)}async createAddress(...e){const[t,s]=e,{token:r,params:a}=(0,o.default)([t,s],[]);return await this.spreeResponse("post",n.default.accountAddressesPath(),r,a)}async removeAddress(...e){const[t,s,r={}]=e,{id:a,token:u,params:i}=(0,o.default)([{id:s},t,r],["id"]);return await this.spreeResponse("delete",n.default.accountAddressRemovePath(a),u,i)}async updateAddress(...e){const[t,s,r]=e,{id:a,token:u,params:i}=(0,o.default)([{id:s},t,r],["id"]);return await this.spreeResponse("patch",n.default.accountAddressPath(a),u,i)}}t.default=u},464:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=s(339),a=r(s(759)),n=r(s(319)),u=r(s(185));class i extends a.default{async getToken(...e){const[t]=e,{token:s,params:r}=(0,u.default)([t],[]);return await this.spreeResponse("post",n.default.oauthTokenPath(),s,(0,o.authParams)(r))}async refreshToken(...e){const[t]=e,{token:s,params:r}=(0,u.default)([t],[]);return await this.spreeResponse("post",n.default.oauthTokenPath(),s,(0,o.refreshParams)(r))}async revokeToken(...e){const[t]=e,{token:s,params:r}=(0,u.default)([t],[]);return await this.spreeResponse("post",n.default.oauthRevokePath(),s,(0,o.revokeParams)(r))}}t.default=i},712:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(759)),a=r(s(319)),n=r(s(185));class u extends o.default{async show(...e){const[t,s={}]=e,{token:r,params:o}=(0,n.default)([t,s],[]);return await this.spreeResponse("get",a.default.cartPath(),r,o)}async create(...e){const[t={},s={}]=e,{token:r,params:o}=(0,n.default)([t,s],[]);return await this.spreeResponse("post",a.default.cartPath(),r,o)}async addItem(...e){const[t,s]=e,{token:r,params:o}=(0,n.default)([t,s],[]);return await this.spreeResponse("post",a.default.cartAddItemPath(),r,o)}async removeItem(...e){const[t,s,r={}]=e,{id:o,token:u,params:i}=(0,n.default)([{id:s},t,r],["id"]);return await this.spreeResponse("delete",a.default.cartRemoveItemPath(o),u,i)}async emptyCart(...e){const[t,s={}]=e,{token:r,params:o}=(0,n.default)([t,s],[]);return await this.spreeResponse("patch",a.default.cartEmptyPath(),r,o)}async remove(...e){const[t]=e,{token:s,params:r}=(0,n.default)([t],[]);return await this.spreeResponse("delete",a.default.cartPath(),s,r)}async setQuantity(...e){const[t,s]=e,{token:r,params:o}=(0,n.default)([t,s],[]);return await this.spreeResponse("patch",a.default.cartSetItemQuantity(),r,o)}async applyCouponCode(...e){const[t,s]=e,{token:r,params:o}=(0,n.default)([t,s],[]);return await this.spreeResponse("patch",a.default.cartApplyCodePath(),r,o)}async removeCouponCode(...e){const[t,s=null,r={}]=e,{code:o,token:u,params:i}=(0,n.default)([{code:s},t,r],["code"]);let c;return c=o?a.default.cartRemoveCodePath(o):a.default.cartRemoveAllCoupons(),await this.spreeResponse("delete",c,u,i)}async removeAllCoupons(...e){const[t,s]=e,{token:r,params:o}=(0,n.default)([t,s],[]);return await this.spreeResponse("delete",a.default.cartRemoveAllCoupons(),r,o)}async estimateShippingMethods(e,t){return await this.spreeResponse("get",a.default.cartEstimateShippingMethodsPath(),e,t)}async estimateShippingRates(...e){const[t,s]=e,{token:r,params:o}=(0,n.default)([t,s],[]);return await this.spreeResponse("get",a.default.cartEstimateShippingRatesPath(),r,o)}async associateGuestCart(...e){const[t,s]=e,{token:r,params:o}=(0,n.default)([t,s],[]);return await this.spreeResponse("patch",a.default.cartAssociatePath(),r,o)}async changeCurrency(...e){const[t,s]=e,{token:r,params:o}=(0,n.default)([t,s],[]);return await this.spreeResponse("patch",a.default.cartChangeCurrencyPath(),r,o)}}t.default=u},846:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(185)),a=r(s(759));s(159);const n=r(s(319));class u extends a.default{async orderNext(...e){const[t,s={}]=e,{token:r,params:a}=(0,o.default)([t,s],[]);return await this.spreeResponse("patch",n.default.checkoutNextPath(),r,a)}async orderUpdate(...e){const[t,s]=e,{token:r,params:a}=(0,o.default)([t,s],[]);return await this.spreeResponse("patch",n.default.checkoutPath(),r,a)}async advance(...e){const[t,s={}]=e,{token:r,params:a}=(0,o.default)([t,s],[]);return await this.spreeResponse("patch",n.default.checkoutAdvancePath(),r,a)}async complete(...e){const[t,s={}]=e,{token:r,params:a}=(0,o.default)([t,s],[]);return await this.spreeResponse("patch",n.default.checkoutCompletePath(),r,a)}async addStoreCredits(...e){const[t,s]=e,{token:r,params:a}=(0,o.default)([t,s],[]);return await this.spreeResponse("post",n.default.checkoutAddStoreCreditsPath(),r,a)}async removeStoreCredits(...e){const[t,s={}]=e,{token:r,params:a}=(0,o.default)([t,s],[]);return await this.spreeResponse("post",n.default.checkoutRemoveStoreCreditsPath(),r,a)}async paymentMethods(...e){const[t]=e,{token:s,params:r}=(0,o.default)([t],[]);return await this.spreeResponse("get",n.default.checkoutPaymentMethodsPath(),s,r)}async shippingMethods(e,t={}){return await this.spreeResponse("get",n.default.checkoutShippingMethodsPath(),e,t)}async shippingRates(...e){const[t,s={}]=e,{token:r,params:a}=(0,o.default)([t,s],[]);return await this.spreeResponse("get",n.default.checkoutShippingRatesPath(),r,a)}async selectShippingMethod(...e){const[t,s]=e,{token:r,params:a}=(0,o.default)([t,s],[]);return await this.spreeResponse("patch",n.default.checkoutSelectShippingMethodPath(),r,a)}async addPayment(...e){const[t,s]=e,{token:r,params:a}=(0,o.default)([t,s],[]);return await this.spreeResponse("post",n.default.checkoutAddPaymentPath(),r,a)}async createStripeSession(e){const{token:t,params:s}=(0,o.default)([e],[]);return await this.spreeResponse("patch",n.default.checkoutCreateStripeSessionPath(),t,s)}}t.default=u},898:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(185)),a=r(s(759)),n=r(s(319));class u extends a.default{async list(e){const{token:t,params:s}=(0,o.default)([e||{}],[]);return await this.spreeResponse("get",n.default.countriesPath(),t,s)}async show(...e){const[t,s={}]=e,{iso:r,token:a,params:u}=(0,o.default)(["object"==typeof t?t:{iso:t},s],["iso"]);return await this.spreeResponse("get",n.default.countryPath(r),a,u)}async default(...e){const[t={}]=e,{token:s,params:r}=(0,o.default)([t],[]);return await this.spreeResponse("get",n.default.defaultCountryPath(),s,r)}}t.default=u},847:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(759)),a=r(s(319)),n=r(s(185));class u extends o.default{async download(...e){const[t,s,r={}]=e,{asset_token:o,token:u,params:i}=(0,n.default)([t,{asset_token:s},r],["asset_token"]);return await this.spreeResponse("get",a.default.digitalAssetsDownloadPath(o),u,i,"stream")}}t.default=u},999:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(185)),a=r(s(759)),n=r(s(319));class u extends a.default{async list(...e){const[t={}]=e,{token:s,params:r}=(0,o.default)([t],[]);return await this.spreeResponse("get",n.default.menusPath(),s,r)}async show(...e){const[t,s={}]=e,{id:r,token:a,params:u}=(0,o.default)(["object"==typeof t?t:{id:t},s],["id"]);return await this.spreeResponse("get",n.default.menuPath(r),a,u)}}t.default=u},298:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(185)),a=r(s(759)),n=r(s(319));class u extends a.default{async status(...e){const[t,s,r={}]=e,{order_number:a,token:u,params:i}=(0,o.default)([t,{order_number:s},r],["order_number"]);return await this.spreeResponse("get",n.default.orderStatusPath(a),u,i)}}t.default=u},995:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(185)),a=r(s(759)),n=r(s(319));class u extends a.default{async list(...e){const[t={}]=e,{token:s,params:r}=(0,o.default)([t],[]);return await this.spreeResponse("get",n.default.pagesPath(),s,r)}async show(...e){const[t,s={}]=e,{id:r,token:a,params:u}=(0,o.default)(["object"==typeof t?t:{id:t},s],["id"]);return await this.spreeResponse("get",n.default.pagePath(r),a,u)}}t.default=u},799:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(185)),a=r(s(759)),n=r(s(319));class u extends a.default{async list(...e){const[t={},s={}]=e,{token:r,params:a}=(0,o.default)([t,s],[]);return await this.spreeResponse("get",n.default.productsPath(),r,a)}async show(...e){const[t,s={},r={}]=e,{id:a,token:u,params:i}=(0,o.default)([{id:t},s,r],["id"]);return await this.spreeResponse("get",n.default.productPath(a),u,i)}}t.default=u},193:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(185)),a=r(s(759)),n=r(s(319));class u extends a.default{async list(...e){const[t={}]=e,{token:s,params:r}=(0,o.default)([t],[]);return await this.spreeResponse("get",n.default.taxonsPath(),s,r)}async show(...e){const[t,s={}]=e,{id:r,token:a,params:u}=(0,o.default)(["object"==typeof t?t:{id:t},s],["id"]);return await this.spreeResponse("get",n.default.taxonPath(r),a,u)}}t.default=u},343:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(185)),a=r(s(759)),n=r(s(319));class u extends a.default{async list(...e){const[t,s={}]=e,{token:r,params:a}=(0,o.default)([t,s],[]);return await this.spreeResponse("get",n.default.wishlistsPath(),r,a)}async show(...e){const[t,s,r={}]=e,{wishlist_token:a,token:u,params:i}=(0,o.default)([t,{wishlist_token:s},r],["wishlist_token"]);return await this.spreeResponse("get",n.default.wishlistPath(a),u,i)}async default(...e){const[t,s={}]=e,{token:r,params:a}=(0,o.default)([t,s],[]);return await this.spreeResponse("get",n.default.defaultWishlistPath(),r,a)}async create(...e){const[t,s]=e,{token:r,params:a}=(0,o.default)([t,s],[]);return await this.spreeResponse("post",n.default.wishlistsPath(),r,a)}async update(...e){const[t,s,r]=e,{wishlist_token:a,token:u,params:i}=(0,o.default)([t,{wishlist_token:s},r],["wishlist_token"]);return await this.spreeResponse("patch",n.default.wishlistPath(a),u,i)}async remove(...e){const[t,s]=e,{wishlist_token:r,token:a,params:u}=(0,o.default)([t,{wishlist_token:s}],["wishlist_token"]);return await this.spreeResponse("delete",n.default.wishlistPath(r),a,u)}async addWishedItem(...e){const[t,s,r]=e,{wishlist_token:a,token:u,params:i}=(0,o.default)([t,{wishlist_token:s},r],["wishlist_token"]);return await this.spreeResponse("post",n.default.wishlistsAddWishedItemPath(a),u,i)}async updateWishedItem(...e){const[t,s,r,a]=e,{wishlist_token:u,id:i,token:c,params:d}=(0,o.default)([t,{wishlist_token:s},{id:r},a],["wishlist_token","id"]);return await this.spreeResponse("patch",n.default.wishlistsUpdateWishedItemQuantityPath(u,i),c,d)}async removeWishedItem(...e){const[t,s,r]=e,{wishlist_token:a,id:u,token:i,params:c}=(0,o.default)([t,{wishlist_token:s},{id:r}],["wishlist_token","id"]);return await this.spreeResponse("delete",n.default.wishlistsRemoveWishedItemPath(a,u),i,c)}}t.default=u},919:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Wishlists=t.Menus=t.DigitalAssets=t.Taxons=t.Pages=t.Products=t.Order=t.Countries=t.Checkout=t.Cart=t.Authentication=t.Account=void 0;const o=r(s(993));t.Account=o.default;const a=r(s(464));t.Authentication=a.default;const n=r(s(712));t.Cart=n.default;const u=r(s(846));t.Checkout=u.default;const i=r(s(898));t.Countries=i.default;const c=r(s(298));t.Order=c.default;const d=r(s(995));t.Pages=d.default;const l=r(s(799));t.Products=l.default;const h=r(s(193));t.Taxons=h.default;const p=r(s(847));t.DigitalAssets=p.default;const f=r(s(999));t.Menus=f.default;const m=r(s(343));t.Wishlists=m.default},112:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(589));class a extends o.default{constructor(e,t){super(e),Object.setPrototypeOf(this,a.prototype),this.name="BasicSpreeError",this.summary=t}}t.default=a},583:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(527));class a extends o.default{constructor(e){super(e),Object.setPrototypeOf(this,a.prototype),this.name="CastError"}}t.default=a},811:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(527));class a extends o.default{constructor(e){super(e),Object.setPrototypeOf(this,a.prototype),this.name="DeserializeError"}}t.default=a},461:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(527));class a extends o.default{constructor(e){super(e),Object.setPrototypeOf(this,a.prototype),this.name="DocumentRelationshipError"}}t.default=a},957:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),s(368);const o=r(s(112));class a extends o.default{constructor(e,t,s){super(e,t),Object.setPrototypeOf(this,a.prototype),this.name="ExpandedSpreeError",this.errors=Object.keys(s).reduce(((e,t)=>{const r=t.split(".");let o=r.shift(),a=e;for(;o;)a[o]||(0===r.length?a[o]=s[t]:a[o]={}),a=a[o],o=r.shift();return e}),{})}getErrors(e){let t=0,s=this.errors,r=!0;for(;t<e.length&&r;){const o=e[t];o in Object(s)?(s=s[o],t+=1):r=!1}return r?s:null}}t.default=a},306:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(527));class a extends o.default{constructor(e,t,s,r){super(r),Object.setPrototypeOf(this,a.prototype),this.name="FetchError",this.response=e,this.request=t,this.data=s}}t.default=a},234:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(527));class a extends o.default{constructor(e){super(`Incorrect request setup: ${e}`),Object.setPrototypeOf(this,a.prototype),this.name="MisconfigurationError"}}t.default=a},815:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(527));class a extends o.default{constructor(){super("No response received from Spree"),Object.setPrototypeOf(this,a.prototype),this.name="NoResponseError"}}t.default=a},589:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(527));class a extends o.default{constructor(e){super(`Spree returned a HTTP ${e.status} error code`),Object.setPrototypeOf(this,a.prototype),this.name="SpreeError",this.serverResponse=e}}t.default=a},527:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class s extends Error{constructor(e){super(e),Object.setPrototypeOf(this,s.prototype),this.name="SpreeSDKError"}}t.default=s},844:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentRelationshipError=t.FetchError=t.SpreeSDKError=t.SpreeError=t.NoResponseError=t.MisconfigurationError=t.ExpandedSpreeError=t.BasicSpreeError=void 0;const o=r(s(112));t.BasicSpreeError=o.default;const a=r(s(957));t.ExpandedSpreeError=a.default;const n=r(s(234));t.MisconfigurationError=n.default;const u=r(s(815));t.NoResponseError=u.default;const i=r(s(589));t.SpreeError=i.default;const c=r(s(527));t.SpreeSDKError=c.default;const d=r(s(306));t.FetchError=d.default;const l=r(s(461));t.DocumentRelationshipError=l.default},339:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.revokeParams=t.refreshParams=t.authParams=void 0,s(391),t.authParams=({username:e,password:t})=>({username:e,password:t,grant_type:"password"}),t.refreshParams=({refresh_token:e})=>({refresh_token:e,grant_type:"refresh_token"}),t.revokeParams=({token:e})=>({token:e})},644:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.findSingleRelationshipDocument=t.findRelationshipDocuments=t.findDocument=void 0;const r=s(844),o=(e,t)=>e.included&&e.included.find((e=>e.type===t.type&&e.id===t.id))||null;t.findDocument=o;const a=(e,t,s)=>{if(!e.included)return[];const a=(t.relationships[s]||{}).data;if(!a)throw new r.DocumentRelationshipError(`Incorrect relationship ${s}.`);let n;return n=Array.isArray(a)?a:[a],n.map((t=>o(e,t))).filter(Boolean)};t.findRelationshipDocuments=a,t.findSingleRelationshipDocument=(e,t,s)=>{const r=a(e,t,s);return 0===r.length?null:r[0]}},327:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.objectToQuerystring=void 0;const s=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),r=(e,t)=>{if(0===e.length)return e;let r=e;if("symbol"==typeof e?r=Symbol.prototype.toString.call(e):"string"!=typeof e&&(r=String(e)),"iso-8859-1"===t)return escape(r).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));let o="";for(let e=0;e<r.length;++e){let t=r.charCodeAt(e);45===t||46===t||95===t||126===t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122?o+=r.charAt(e):t<128?o+=s[t]:t<2048?o+=s[192|t>>6]+s[128|63&t]:t<55296||t>=57344?o+=s[224|t>>12]+s[128|t>>6&63]+s[128|63&t]:(e+=1,t=65536+((1023&t)<<10|1023&r.charCodeAt(e)),o+=s[240|t>>18]+s[128|t>>12&63]+s[128|t>>6&63]+s[128|63&t])}return o},o=Array.isArray,a=Array.prototype.push,n=(e,t)=>{a.apply(e,o(t)?t:[t])},u=e=>String(e),i=(e,t)=>e+"[]",c="utf-8",d=(e,t)=>{var s,a;if(e instanceof Date&&(e=e.toISOString()),null===e&&(e=""),"string"==typeof(a=e)||"number"==typeof a||"boolean"==typeof a||"symbol"==typeof a||"bigint"==typeof a||(s=e)&&"object"==typeof s&&s.constructor&&s.constructor.isBuffer&&s.constructor.isBuffer(s)){const s=r(t,c);return[u(s)+"="+u(r(e,c))]}const l=[];if(void 0===e)return l;const h=Object.keys(e);for(let s=0;s<h.length;++s){const r=h[s],a=e[r],u=o(e)?i(t):t+"["+r+"]";n(l,d(a,u))}return l};t.objectToQuerystring=e=>{const t=[],s=Object.keys(e);for(let r=0;r<s.length;++r){const o=s[r];n(t,d(e[o],o))}return t.join("&")}},614:function(e,t,s){var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return o(t,e),t},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.extractSuccess=t.fromJson=t.toJson=t.makeFail=t.makeSuccess=void 0;const u=a(s(844)),i=n(s(583)),c=n(s(811)),d=e=>({isSuccess:()=>!0,isFail:()=>!1,success:()=>e,fail:()=>{throw new Error("Cannot call fail() on success.")}});t.makeSuccess=d;const l=e=>({isSuccess:()=>!1,isFail:()=>!0,success:()=>{throw new Error("Cannot call success() on fail.")},fail:()=>e});t.makeFail=l,t.toJson=e=>e.isSuccess()?{type:"SpreeSDKResult",subtype:"success",value:e.success()}:{type:"SpreeSDKResult",subtype:"fail",value:{...e.fail()}},t.fromJson=e=>{if("SpreeSDKResult"===e.type){if("success"===e.subtype)return d(e.value);if("fail"===e.subtype)return l((e=>{if(!(e.name in u))throw new i.default("Error not recognized");return Object.assign(Object.create(u[e.name].prototype),e)})(e.value));throw new c.default("Expected success or fail subtype.")}throw new c.default("Unknown signature.")},t.extractSuccess=e=>e.then((e=>{if(e.isFail())throw e.fail();return e.success()}))},185:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.split=void 0,t.split=(e,t)=>{const s=[{},{}];for(const r in e)t.includes(r)?s[1][r]=e[r]:s[0][r]=e[r];return s},t.default=(e,s)=>{const r=Object.assign({},...e.filter(Boolean).reverse()),[o,a]=(0,t.split)(r,["order_token","bearer_token","orderToken","bearerToken"]),[n,u]=(0,t.split)(o,s);let i;return("order_token"in a&&"bearer_token"in a||"orderToken"in a&&"bearerToken"in a)&&console.warn("Avoid providing both token types (order token and bearer token) in a request to prevent unexpected results."),i="bearer_token"in a||"bearerToken"in a?{bearerToken:a.bearer_token||a.bearerToken}:"order_token"in a||"orderToken"in a?{orderToken:a.order_token||a.orderToken}:{},{token:i,...u,params:n}}},341:function(e,t,s){var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return o(t,e),t},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.request=t.jsonApi=t.storefrontPath=t.routes=t.endpoints=t.makeClient=t.errors=t.result=t.Http=t.Client=void 0;const u=n(s(390));t.Client=u.default;const i=a(s(844));t.errors=i;const c=a(s(614));t.result=c;const d=a(s(644));t.jsonApi=d;const l=a(s(327));t.request=l;const h=n(s(759));t.Http=h.default;const p=a(s(319));t.routes=p.default,Object.defineProperty(t,"storefrontPath",{enumerable:!0,get:function(){return p.storefrontPath}});const f=a(s(919));t.endpoints=f;const m=n(s(664));t.makeClient=m.default},391:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),s(921)},159:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},921:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},368:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},664:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(s(390));t.default=e=>new o.default(e)},319:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.storefrontPath=void 0,t.storefrontPath="api/v2/storefront";const s={productsPath:()=>`${t.storefrontPath}/products`,productPath:e=>`${t.storefrontPath}/products/${encodeURIComponent(e)}`,taxonsPath:()=>`${t.storefrontPath}/taxons`,taxonPath:e=>`${t.storefrontPath}/taxons/${encodeURIComponent(e)}`,countriesPath:()=>`${t.storefrontPath}/countries`,countryPath:e=>`${t.storefrontPath}/countries/${encodeURIComponent(e)}`,cartPath:()=>`${t.storefrontPath}/cart`,cartAddItemPath:()=>`${t.storefrontPath}/cart/add_item`,cartRemoveItemPath:e=>`${t.storefrontPath}/cart/remove_line_item/${encodeURIComponent(e)}`,cartEmptyPath:()=>`${t.storefrontPath}/cart/empty`,cartSetItemQuantity:()=>`${t.storefrontPath}/cart/set_quantity`,cartApplyCodePath:()=>`${t.storefrontPath}/cart/apply_coupon_code`,cartRemoveCodePath:e=>`${t.storefrontPath}/cart/remove_coupon_code/${encodeURIComponent(e)}`,cartRemoveAllCoupons:()=>`${t.storefrontPath}/cart/remove_coupon_code`,cartEstimateShippingMethodsPath:()=>`${t.storefrontPath}/cart/estimate_shipping_rates`,cartEstimateShippingRatesPath:()=>`${t.storefrontPath}/cart/estimate_shipping_rates`,cartAssociatePath:()=>`${t.storefrontPath}/cart/associate`,cartChangeCurrencyPath:()=>`${t.storefrontPath}/cart/change_currency`,checkoutPath:()=>`${t.storefrontPath}/checkout`,checkoutNextPath:()=>`${t.storefrontPath}/checkout/next`,checkoutAdvancePath:()=>`${t.storefrontPath}/checkout/advance`,checkoutCompletePath:()=>`${t.storefrontPath}/checkout/complete`,checkoutAddStoreCreditsPath:()=>`${t.storefrontPath}/checkout/add_store_credit`,checkoutRemoveStoreCreditsPath:()=>`${t.storefrontPath}/checkout/remove_store_credit`,checkoutPaymentMethodsPath:()=>`${t.storefrontPath}/checkout/payment_methods`,checkoutShippingMethodsPath:()=>`${t.storefrontPath}/checkout/shipping_rates`,checkoutShippingRatesPath:()=>`${t.storefrontPath}/checkout/shipping_rates`,checkoutSelectShippingMethodPath:()=>`${t.storefrontPath}/checkout/select_shipping_method`,checkoutAddPaymentPath:()=>`${t.storefrontPath}/checkout/create_payment`,checkoutCreateStripeSessionPath:()=>`${t.storefrontPath}/checkout/create_stripe_session`,oauthTokenPath:()=>"spree_oauth/token",oauthRevokePath:()=>"spree_oauth/revoke",accountPath:()=>`${t.storefrontPath}/account`,accountAddressPath:e=>`${t.storefrontPath}/account/addresses/${encodeURIComponent(e)}`,accountAddressesPath:()=>`${t.storefrontPath}/account/addresses`,accountAddressRemovePath:e=>`${t.storefrontPath}/account/addresses/${encodeURIComponent(e)}`,accountConfirmPath:e=>`${t.storefrontPath}/account_confirmations/${encodeURIComponent(e)}`,accountCreditCardsPath:()=>`${t.storefrontPath}/account/credit_cards`,accountDefaultCreditCardPath:()=>`${t.storefrontPath}/account/credit_cards/default`,accountCreditCardRemovePath:e=>`${t.storefrontPath}/account/credit_cards/${encodeURIComponent(e)}`,accountCompletedOrdersPath:()=>`${t.storefrontPath}/account/orders`,accountCompletedOrderPath:e=>`${t.storefrontPath}/account/orders/${encodeURIComponent(e)}`,forgotPasswordPath:()=>`${t.storefrontPath}/passwords`,resetPasswordPath:e=>`${t.storefrontPath}/passwords/${encodeURIComponent(e)}`,orderStatusPath:e=>`${t.storefrontPath}/order_status/${encodeURIComponent(e)}`,pagesPath:()=>`${t.storefrontPath}/cms_pages`,pagePath:e=>`${t.storefrontPath}/cms_pages/${encodeURIComponent(e)}`,defaultCountryPath:()=>`${t.storefrontPath}/countries/default`,digitalAssetsDownloadPath:e=>`${t.storefrontPath}/digitals/${encodeURIComponent(e)}`,menusPath:()=>`${t.storefrontPath}/menus`,menuPath:e=>`${t.storefrontPath}/menus/${encodeURIComponent(e)}`,wishlistsPath:()=>`${t.storefrontPath}/wishlists`,wishlistPath:e=>`${t.storefrontPath}/wishlists/${encodeURIComponent(e)}`,defaultWishlistPath:()=>`${t.storefrontPath}/wishlists/default`,wishlistsAddWishedItemPath:e=>`${t.storefrontPath}/wishlists/${encodeURIComponent(e)}/add_item`,wishlistsUpdateWishedItemQuantityPath:(e,s)=>`${t.storefrontPath}/wishlists/${encodeURIComponent(e)}/set_item_quantity/${encodeURIComponent(s)}`,wishlistsRemoveWishedItemPath:(e,s)=>`${t.storefrontPath}/wishlists/${encodeURIComponent(e)}/remove_item/${encodeURIComponent(s)}`};t.default=s}},t={};return function s(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,s),a.exports}(341)})()}));
//# sourceMappingURL=index.js.map